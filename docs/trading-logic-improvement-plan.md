# å–å¼•ãƒ­ã‚¸ãƒƒã‚¯æ”¹å–„ä¼ç”»æ›¸

**ä½œæˆæ—¥**: 2025-02-09
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 1 å®Œäº† â†’ Phase 2 å®Œäº† â†’ Phase 3 å®Œäº† â†’ Phase 4 å®Œäº† â†’ Phase 5 å®Œäº† â†’ Phase 6 å®Œäº†

---

## ğŸ“Š ç¾çŠ¶ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ

### å®Ÿç¸¾ (43ä»¶ã®ã‚¯ãƒ­ãƒ¼ã‚ºæ¸ˆå–å¼•ã€ãŠã‚ˆãã®åŠæ•°ãŒentry_priceãƒã‚°å½±éŸ¿)

> âš ï¸ **æ³¨æ„**: DynamoDBä¸Šã®entry_price/amountã¯ãƒã‚°ã§è†¨å¼µã—ã¦ãŠã‚Šã€
> `(exit-entry)*amount` ã®P/Lè¨ˆç®—ã¯ä¿¡é ¼ã§ããªã„ã€‚å®Ÿéš›ã®P/Lã¯å£åº§æ®‹é«˜å¤‰å‹•ã‹ã‚‰ç®—å‡ºã€‚

| æŒ‡æ¨™ | å€¤ |
|------|-----|
| é–‹å§‹è³‡é‡‘ | **Â¥130,000** |
| ç¾åœ¨æ®‹é«˜ | **Â¥ç´„100,000** |
| å®Ÿæå¤± | **Â¥ç´„30,000** |
| å‹ç‡ | **9.3%** (4å‹/39æ•—) |
| ãƒ—ãƒ­ãƒ•ã‚£ãƒƒãƒˆãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼ | **0.27** |
| ãƒã‚°èµ·å›  (entry_priceè†¨å¼µ, ä¿®æ­£æ¸ˆ) | ç´„26ä»¶å½±éŸ¿ |

### è‡´å‘½çš„ãƒ‘ã‚¿ãƒ¼ãƒ³

1. **å³æ™‚å£²ã‚Š**: 43ä»¶ä¸­41ä»¶ãŒ **ä¿æœ‰5åˆ†ä»¥å†…ã§å³å£²ã‚Š**
2. **XRPåé‡**: 15ä»¶/43ä»¶ = 35%ãŒXRP
3. **SL/TPæœªç™ºå‹•**: å…¨å–å¼•ãŒã‚·ã‚°ãƒŠãƒ«å£²ã‚Šã€‚SL/TPã¯ä¸€åº¦ã‚‚ç™ºå‹•ã—ã¦ã„ãªã„
4. **BUYâ†’å³SELL ãƒ«ãƒ¼ãƒ—**: BUYã—ã¦æ¬¡ã‚µã‚¤ã‚¯ãƒ«ã§ã™ãSELLã‚·ã‚°ãƒŠãƒ« â†’ å¾€å¾©ãƒ“ãƒ³ã‚¿

### ã‚·ã‚°ãƒŠãƒ«çµ±è¨ˆ (810ã‚·ã‚°ãƒŠãƒ«)

- BUY: 281å› (35%), SELL: 234å› (29%), HOLD: 295å› (36%)
- BUYã‚·ã‚°ãƒŠãƒ«å¹³å‡ã‚¹ã‚³ã‚¢: +0.309
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¹³å‡: Technical=+0.436, Chronos=+0.248, Sentiment=+0.090
- BUYé–¾å€¤(0.20)è¶…ãˆ â†’ ç™ºç«ç‡35%ã¯é«˜ã™ãã‚‹

---

## ğŸ”§ æ”¹å–„é …ç›®ä¸€è¦§ (å„ªå…ˆåº¦é †)

### ã€P1: å³åŠ¹æ€§ãƒ»é«˜ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã€‘

#### 1. MACDã‚·ã‚°ãƒŠãƒ«ãƒ©ã‚¤ãƒ³ã®ä¿®æ­£ âœ… å®Ÿè£…æ¸ˆ
- **ç¾çŠ¶**: `signal_line = macd_line * 0.9` â€” å½ã®ã‚·ã‚°ãƒŠãƒ«ãƒ©ã‚¤ãƒ³ã€‚MACDæ–¹å‘ã¨å¸¸ã«ä¸€è‡´
- **å•é¡Œ**: EMAã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ãƒã‚§ãƒƒã‚¯ã¨åŒç­‰ã€‚ã‚¯ãƒ­ã‚¹ã‚ªãƒ¼ãƒãƒ¼æ¤œçŸ¥ä¸å¯
- **ä¿®æ­£**: MACDç³»åˆ—å…¨ä½“ã‚’è¨ˆç®—ã—ã€ãã®EMA(9)ã§æ­£ã—ã„ã‚·ã‚°ãƒŠãƒ«ãƒ©ã‚¤ãƒ³ã‚’ç®—å‡º
- **å½±éŸ¿**: ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«é‡ã¿0.45 Ã— MACD0.25 = å…¨ä½“ã®11%ã«å½±éŸ¿
- **å®Ÿè£…å…ˆ**: `services/technical/handler.py`

#### 2. æœ€ä½ä¿æœ‰æ™‚é–“ (Minimum Hold Period) âœ… å®Ÿè£…æ¸ˆ
- **ç¾çŠ¶**: BUYâ†’ 5åˆ†å¾Œã«SELLã‚·ã‚°ãƒŠãƒ«â†’å³æåˆ‡ã‚Šã€‚43ä»¶ä¸­41ä»¶ãŒã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³
- **ä¿®æ­£**: BUYã‹ã‚‰æœ€ä½30åˆ†ã¯é€šå¸¸SELLã‚·ã‚°ãƒŠãƒ«ã‚’ç„¡è¦–ï¼ˆSL/TPã®ã¿æœ‰åŠ¹ï¼‰
- **å½±éŸ¿**: å³æ™‚å¾€å¾©ãƒ“ãƒ³ã‚¿ã®é˜²æ­¢
- **å®Ÿè£…å…ˆ**: `services/aggregator/handler.py`

#### 3. ãƒœãƒªãƒ³ã‚¸ãƒ£ãƒ¼ãƒãƒ³ãƒ‰ ãƒ‡ãƒƒãƒ‰ã‚¾ãƒ¼ãƒ³è§£æ¶ˆ âœ… å®Ÿè£…æ¸ˆ
- **ç¾çŠ¶**: BB position 0.2ã€œ0.8ã®60%ç¯„å›²ãŒã‚¹ã‚³ã‚¢0
- **ä¿®æ­£**: ç·šå½¢ã‚¹ã‚³ã‚¢ `(0.5 - bb_position) * 2 * w_bb` ã§å…¨ç¯„å›²ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³åŒ–ã€‚ãƒãƒ³ãƒ‰å¤–ã¯1.2å€ãƒœãƒ¼ãƒŠã‚¹
- **å½±éŸ¿**: ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚¹ã‚³ã‚¢ã®ç²¾åº¦å‘ä¸Š
- **å®Ÿè£…å…ˆ**: `services/technical/handler.py`

### ã€P2: ä¸­ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆãƒ»ãƒ­ã‚¸ãƒƒã‚¯æ”¹å–„ã€‘

#### 4. Chronos ã‚¹ã‚³ã‚¢ã‚¹ã‚±ãƒ¼ãƒ«èª¿æ•´ âœ… å®Ÿè£…æ¸ˆ
- **ç¾çŠ¶**: Â±5%å¤‰å‹• = Â±1.0ã ãŒã€1æ™‚é–“ã§5%ã¯ç¨€ã€‚Chronosã‚¹ã‚³ã‚¢ã¯å¸¸ã«ã»ã¼0
- **ä¿®æ­£**: Â±1%å¤‰å‹• = Â±1.0 ã«å¤‰æ›´
- **å½±éŸ¿**: 40%ã‚¦ã‚§ã‚¤ãƒˆã®ChronosãŒå®Ÿè³ªçš„ã«æ©Ÿèƒ½é–‹å§‹
- **å®Ÿè£…å…ˆ**: `services/chronos-caller/handler.py`

#### 5. ãƒˆãƒ¬ãƒ¼ãƒªãƒ³ã‚°ã‚¹ãƒˆãƒƒãƒ—å®Ÿè£… âœ… å®Ÿè£…æ¸ˆ
- **ç¾çŠ¶**: SL=-5%, TP=+10%ã§å›ºå®šã€‚+9%ã®å«ã¿ç›ŠãŒåè»¢â†’SLç™ºå‹•ã§æå¤±
- **ä¿®æ­£**: å«ã¿ç›Š+3%ã§SL=å»ºå€¤ã€+5%ã§SL=+3%ã€+8%ã§SL=+6%ã€‚DynamoDBæ°¸ç¶šåŒ–+Slacké€šçŸ¥
- **å½±éŸ¿**: åˆ©ç›Šç¢ºä¿ç‡å‘ä¸Š
- **å®Ÿè£…å…ˆ**: `services/position-monitor/handler.py`

#### 6. XRPåé‡é˜²æ­¢ï¼ˆé€šè²¨åˆ†æ•£ãƒ«ãƒ¼ãƒ«ï¼‰ âœ… å®Ÿè£…æ¸ˆ
- **ç¾çŠ¶**: XRP 35%é›†ä¸­
- **ä¿®æ­£**: åŒä¸€é€šè²¨ã®æœ€å¤§ä¿æœ‰æ•°åˆ¶é™ MAX_POSITIONS_PER_PAIR=1ï¼ˆç’°å¢ƒå¤‰æ•°ã§å¤‰æ›´å¯ï¼‰
- **å®Ÿè£…å…ˆ**: `services/aggregator/handler.py`

### ã€P3: ç²¾åº¦å‘ä¸Šãƒ»ã‚·ã‚¹ãƒ†ãƒ æ”¹å–„ã€‘

#### 7. å¸‚å ´ãƒ¬ã‚¸ãƒ¼ãƒ æ¤œçŸ¥ âœ… å®Ÿè£…æ¸ˆ
- **ç¾çŠ¶**: ãƒˆãƒ¬ãƒ³ãƒ‰ç›¸å ´ã‚‚ãƒ¬ãƒ³ã‚¸ç›¸å ´ã‚‚åŒã˜ãƒ­ã‚¸ãƒƒã‚¯
- **ä¿®æ­£**: ADXã§ç›¸å ´çŠ¶æ…‹åˆ¤å®šã€‚ADX>25:ãƒˆãƒ¬ãƒ³ãƒ‰(MACD/SMAé‡è¦–)ã€ADX<20:ãƒ¬ãƒ³ã‚¸(RSI/BBé‡è¦–)
- **å®Ÿè£…å…ˆ**: `services/technical/handler.py`

#### 8. ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™æ‹¡å…… âœ… å®Ÿè£…æ¸ˆ
- **è¿½åŠ æ¸ˆ**: ADX (ãƒˆãƒ¬ãƒ³ãƒ‰å¼·åº¦)ã€ATR (ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£), ATR% (ä¾¡æ ¼å¯¾æ¯”)ã€ãƒ¬ã‚¸ãƒ¼ãƒ åˆ¤å®š
- **å®Ÿè£…å…ˆ**: `services/technical/handler.py`

#### 9. BUYé–¾å€¤å¼•ãä¸Šã’ âœ… å®Ÿè£…æ¸ˆ
- **ç¾çŠ¶**: BUYé–¾å€¤ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ0.20 â†’ ç™ºç«ç‡35%(é«˜ã™ã)
- **ä¿®æ­£**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ0.30ã«å¼•ãä¸Šã’ã€‚é«˜ç¢ºä¿¡åº¦ã®å–å¼•ã®ã¿å®Ÿè¡Œ
- **å®Ÿè£…å…ˆ**: `services/aggregator/handler.py`

#### 10. ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³åˆ¶å¾¡ (ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼) âœ… å®Ÿè£…æ¸ˆ
- **ç¾çŠ¶**: æå¤±ãŒç¶šã„ã¦ã‚‚æ­¢ã¾ã‚‰ãªã„
- **ä¿®æ­£**: æ—¥æ¬¡ç´¯è¨ˆæå¤±é–¾å€¤ (Â¥15,000) or é€£æ•—å›æ•° (5å›) ã§BUYåœæ­¢ã€‚ãƒˆãƒªãƒƒãƒ—å¾Œ6æ™‚é–“å†·å´
- **ON/OFF**: `CIRCUIT_BREAKER_ENABLED` ç’°å¢ƒå¤‰æ•°ã§åˆ‡æ›¿ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: OFFï¼‰
- **ãã®ä»–ç’°å¢ƒå¤‰æ•°**: `CB_DAILY_LOSS_LIMIT_JPY`, `CB_MAX_CONSECUTIVE_LOSSES`, `CB_COOLDOWN_HOURS`
- **å®Ÿè£…å…ˆ**: `services/order-executor/handler.py`

---

## æ¨å¥¨å®Ÿè£…é †åº

```
2(æœ€ä½ä¿æœ‰æ™‚é–“) â†’ 1(MACDä¿®æ­£) â†’ 4(Chronosã‚¹ã‚±ãƒ¼ãƒ«) â†’ 9(BUYé–¾å€¤) 
â†’ 3(BBãƒ‡ãƒƒãƒ‰ã‚¾ãƒ¼ãƒ³) â†’ 5(ãƒˆãƒ¬ãƒ¼ãƒªãƒ³ã‚°ã‚¹ãƒˆãƒƒãƒ—) â†’ 6(é€šè²¨åˆ†æ•£) 
â†’ 10(ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼) â†’ 7(ãƒ¬ã‚¸ãƒ¼ãƒ æ¤œçŸ¥) â†’ 8(æŒ‡æ¨™æ‹¡å……)
```

---

## å®Ÿè£…ãƒ­ã‚°

| æ—¥ä»˜ | é …ç›® | ã‚³ãƒŸãƒƒãƒˆ | å‚™è€ƒ |
|------|------|---------|------|
| 2025-02-09 | #2 æœ€ä½ä¿æœ‰æ™‚é–“ | 8e582d0 | 30åˆ†ãƒ›ãƒ¼ãƒ«ãƒ‰ãƒ«ãƒ¼ãƒ« |
| 2025-02-09 | #1 MACDä¿®æ­£ | - | EMA(9)ã‚·ã‚°ãƒŠãƒ«ãƒ©ã‚¤ãƒ³ã€ã‚¯ãƒ­ã‚¹ã‚ªãƒ¼ãƒãƒ¼æ¤œçŸ¥å¯èƒ½ã« |
| 2025-02-09 | #4 Chronosã‚¹ã‚±ãƒ¼ãƒ« | 95ef463 | Â±5%â†’Â±1%ã€ChronosãŒå®Ÿè³ªæ©Ÿèƒ½åŒ– |
| 2025-02-09 | #9 BUYé–¾å€¤ | - | 0.20â†’0.30ã€ç™ºç«ç‡å‰Šæ¸› |
| 2025-02-09 | #3 BBãƒ‡ãƒƒãƒ‰ã‚¾ãƒ¼ãƒ³ | - | ç·šå½¢ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³+ãƒãƒ³ãƒ‰å¤–ãƒœãƒ¼ãƒŠã‚¹ |
| 2025-02-09 | #5 ãƒˆãƒ¬ãƒ¼ãƒªãƒ³ã‚°ã‚¹ãƒˆãƒƒãƒ— | - | +3%/+5%/+8%æ®µéšå¼ã€DBæ°¸ç¶šåŒ– |
| 2025-02-09 | #6 é€šè²¨åˆ†æ•£ | - | MAX_POSITIONS_PER_PAIR=1 |
| 2025-02-09 | #7 ãƒ¬ã‚¸ãƒ¼ãƒ æ¤œçŸ¥ | - | ADXåˆ¤å®šã€ã‚¦ã‚§ã‚¤ãƒˆå‹•çš„å¤‰æ›´ |
| 2025-02-09 | #8 æŒ‡æ¨™æ‹¡å…… | - | ADX/ATR/ATR%/ãƒ¬ã‚¸ãƒ¼ãƒ è¿½åŠ  |
| 2025-02-09 | #10 ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼ | - | æ—¥æ¬¡æå¤±/é€£æ•—åˆ¶å¾¡ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆOFF |

---

## ğŸ”® Phase 2 æ”¹å–„é …ç›® (å…¨é …ç›®å®Ÿè£…æ¸ˆ)

> Phase 1 (#1-#10) å®Œäº†å¾Œã®ã‚¹ãƒ†ãƒƒãƒ—ã€‚2026-02-09 ã«å…¨8é …ç›®ã‚’å®Ÿè£…ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ã€‚

### ã€A. AIåˆ†æã®ç²¾åº¦ã«ç›´çµã™ã‚‹å•é¡Œï¼ˆå„ªå…ˆåº¦é«˜ï¼‰ã€‘

#### 11. OHLCãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ãƒ»æ´»ç”¨ âœ… å®Ÿè£…æ¸ˆ
- **æ”¹å–„å†…å®¹**: Binance klines API ã‹ã‚‰ OHLCV (open/high/low/close/volume) ã‚’å–å¾—ã— DynamoDB ã«ä¿å­˜
- **ATR**: æ­£å¼ãª True Range = max(High-Low, |High-PrevClose|, |Low-PrevClose|) ã‚’ä½¿ç”¨ã€‚OHLC ãŒãªã„å¤ã„ãƒ¬ã‚³ãƒ¼ãƒ‰ã¯å¾“æ¥ã® close è¿‘ä¼¼ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- **ADX**: +DM = max(High[i]-High[i-1], 0)ã€-DM = max(Low[i-1]-Low[i], 0) ã§æ­£å¼è¨ˆç®—
- **å½±éŸ¿ç¯„å›²**: `services/price-collector/handler.py`, `services/technical/handler.py`

#### 12. MACDã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³åŒ– âœ… å®Ÿè£…æ¸ˆ
- **æ”¹å–„å†…å®¹**: ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ æŒ¯å¹…ãƒ™ãƒ¼ã‚¹ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚³ã‚¢ã«å¤‰æ›´
- **ãƒ­ã‚¸ãƒƒã‚¯**: `norm_hist = histogram / current_price * 100` (ä¾¡æ ¼æ¯”%)ã€`hist_score = clamp(norm_hist / 0.1, -1, 1)`
- Â±0.1% ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã§ Â±1.0 ã«ã‚¹ã‚±ãƒ¼ãƒ«ï¼ˆ5åˆ†è¶³ã®å…¸å‹å€¤ï¼‰
- **å½±éŸ¿ç¯„å›²**: `services/technical/handler.py`

#### 13. RSIè¨ˆç®—ã®Wilder'sæ–¹å¼ã¸ã®ä¿®æ­£ âœ… å®Ÿè£…æ¸ˆ
- **æ”¹å–„å†…å®¹**: Wilder's smoothed moving average ã«ä¿®æ­£
- **ãƒ­ã‚¸ãƒƒã‚¯**: æœ€åˆã® period æœ¬ã¯ SMA ã§åˆæœŸåŒ–ã€ä»¥é™ã¯ `avg = (avg * (period-1) + current) / period` ã§æŒ‡æ•°å¹³æ»‘åŒ–
- å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ï¼ˆå¾“æ¥ã¯ç›´è¿‘ N æœŸé–“ã®ã¿ï¼‰
- **å½±éŸ¿ç¯„å›²**: `services/technical/handler.py`

#### 14. å‡ºæ¥é«˜ï¼ˆVolumeï¼‰ãƒ‡ãƒ¼ã‚¿ã®æ´»ç”¨ âœ… å®Ÿè£…æ¸ˆ
- **æ”¹å–„å†…å®¹**: `calculate_volume_signal()` é–¢æ•°ã‚’è¿½åŠ ã€‚å‡ºæ¥é«˜æ€¥å¢—æ™‚ã«ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚¹ã‚³ã‚¢ã‚’å¢—å¹…
- **ãƒ­ã‚¸ãƒƒã‚¯**: ç›´è¿‘20æœ¬ã®å¹³å‡å‡ºæ¥é«˜ã¨ç¾åœ¨ã®å‡ºæ¥é«˜ã‚’æ¯”è¼ƒã€‚ratio > 1.5 ã§å¢—å¹…é–‹å§‹ã€ratio 2.5 ã§ä¸Šé™ 1.3x ã«åˆ°é”ã€‚å¹³å‡ä»¥ä¸‹ã¯ 1.0 (æ¸›è¡°ãªã—)
- **å½±éŸ¿ç¯„å›²**: `services/price-collector/handler.py`, `services/technical/handler.py`

### ã€B. ãƒ¢ãƒ‡ãƒ«ãƒ»ã‚¤ãƒ³ãƒ•ãƒ©ã®æ”¹å–„ï¼ˆå„ªå…ˆåº¦ä¸­ï¼‰ã€‘

#### 15. Chronos-T5-Tiny ã®ã‚¦ã‚§ã‚¤ãƒˆèª¿æ•´ âœ… å®Ÿè£…æ¸ˆ (çŸ­æœŸ+é•·æœŸ)
- **ãƒ‡ãƒ¼ã‚¿åˆ†æ**: 810ã‚·ã‚°ãƒŠãƒ«ã®ç›¸é–¢åˆ†æã‚’å®Ÿæ–½
  - Chronos near-zeroç‡: 51.9% (ã‚¹ã‚³ã‚¢ãŒã»ã¼0ã®ã‚·ã‚°ãƒŠãƒ«ãŒåŠæ•°ä»¥ä¸Š)
  - åˆ†æ•£æ¯”: Technical=0.57, Chronos=0.35, Sentiment=0.08
- **çŸ­æœŸ âœ…**: Technical 0.45â†’**0.55**, Chronos 0.40â†’**0.30**, Sentiment 0.15 (æ®ç½®)
- **ä¸­æœŸ â­ï¸ ã‚¹ã‚­ãƒƒãƒ—**: Chronos-T5-Small åˆ‡æ›¿ã¯ã‚³ã‚¹ãƒˆå¢—(4x memory)ã«å¯¾ã—åŠ¹æœãŒè–„ã„ãŸã‚è¦‹é€ã‚Šã€‚ãƒ¢ãƒ‡ãƒ«ã‚µã‚¤ã‚ºã‚ˆã‚Šã‚‚å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ”¹å–„ (Typical Price) ãŒåŠ¹æœçš„
- **é•·æœŸ âœ…**: 810ã‚·ã‚°ãƒŠãƒ«ã®å®Ÿãƒ‡ãƒ¼ã‚¿ã§åˆ†æ•£æ¯”ã‚’æ¸¬å®šã—ã€ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ã§ã‚¦ã‚§ã‚¤ãƒˆã‚’æ±ºå®š
- **è¿½åŠ æ”¹å–„**: Chronos å…¥åŠ›ã‚’ close â†’ **Typical Price (H+L+C)/3** ã«å¤‰æ›´ã€‚ãƒ­ãƒ¼ã‚½ã‚¯è¶³ã®é‡å¿ƒã‚’ä½¿ã†ã“ã¨ã§å€¤å‹•ãæƒ…å ±ã‚’è±Šã‹ã«
- **å½±éŸ¿ç¯„å›²**: `services/aggregator/handler.py`, `services/chronos-caller/handler.py`

#### 16. decoder_with_past (KVã‚­ãƒ£ãƒƒã‚·ãƒ¥) ã®æ´»ç”¨ âœ… å®Ÿè£…æ¸ˆ
- **æ”¹å–„å†…å®¹**: `decoder_with_past_model.onnx` ã‚’ä½¿ã£ãŸ KV-Cache ä»˜ãé«˜é€Ÿãƒ‡ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè£…
- **ãƒ­ã‚¸ãƒƒã‚¯**: åˆå›ã‚¹ãƒ†ãƒƒãƒ—ã¯ãƒ•ãƒ«ãƒ‡ã‚³ãƒ¼ãƒ€å®Ÿè¡Œ â†’ present KV ã‚’æŠ½å‡ºã€‚2ã‚¹ãƒ†ãƒƒãƒ—ç›®ä»¥é™ã¯æœ€å¾Œã®1ãƒˆãƒ¼ã‚¯ãƒ³ã®ã¿å…¥åŠ›ã— past_key_values ã§é«˜é€Ÿãƒ‡ã‚³ãƒ¼ãƒ‰
- **åŠ¹æœ**: O(nÂ²) â†’ O(n) ã§æ¨è«–æ™‚é–“ãŒå¤§å¹…çŸ­ç¸®ï¼ˆç‰¹ã«ã‚µãƒ³ãƒ—ãƒ«æ•°20ã®åå¾©ãŒé«˜é€ŸåŒ–ï¼‰
- **å½±éŸ¿ç¯„å›²**: `services/chronos-caller/handler.py`

#### 17. ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆåˆ†æã®é«˜åº¦åŒ– âœ… å®Ÿè£…æ¸ˆ
- **æ”¹å–„å†…å®¹**: ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ NLP ã‚’å¤§å¹…å¼·åŒ–ï¼ˆFinBERT ã¯ Lambda ã‚µã‚¤ã‚ºåˆ¶ç´„ã¨ã‚³ã‚¹ãƒˆé¢ã§è¦‹é€ã‚Šï¼‰
- **3æ®µéšã®å¼·åº¦**: strong (Â±0.25) / moderate (Â±0.15) / mild (Â±0.06) ã§é‡ã¿åˆ†ã‘
- **å¦å®šèªæ¤œå‡º**: not, no, never, n't, without, fails ç­‰ â†’ ç›´å‰3èªä»¥å†…ã§æ¥µæ€§åè»¢
- **ãƒã‚¤ã‚°ãƒ©ãƒ /ãƒ•ãƒ¬ãƒ¼ã‚º**: all-time high, death cross, etf approved, rug pull ç­‰20+ãƒ•ãƒ¬ãƒ¼ã‚º
- **æš—å·é€šè²¨ç‰¹åŒ–èªå½™**: halving, whale accumulation, delisted, flash crash ç­‰
- **ã‚¹ã‚³ã‚¢ç¯„å›²**: Â±0.4 (æ—§: Â±0.3) ã¾ã§æ‹¡å¤§
- **å½±éŸ¿ç¯„å›²**: `services/news-collector/handler.py`

### ã€C. é‹ç”¨ãƒ»å®‰å…¨æ€§ã®æ”¹å–„ï¼ˆå„ªå…ˆåº¦ä¸­ã€œä½ï¼‰ã€‘

#### 18. ãƒˆãƒ¬ãƒ¼ãƒ‰è¨˜éŒ²ã¸ã®åˆ†æã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿å­˜ âœ… å®Ÿè£…æ¸ˆ
- **æ”¹å–„å†…å®¹**: `analysis_context` ã‚’ SQS ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å«ã‚ã€trades ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä¿å­˜
- **ä¿å­˜é …ç›®**: technical_score, chronos_score, sentiment_score, weight_technical/chronos/sentiment, buy_threshold, sell_threshold
- **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼**: aggregator â†’ SQS (analysis_contextä»˜ã) â†’ order-executor â†’ DynamoDB trades ãƒ†ãƒ¼ãƒ–ãƒ«
- **å½±éŸ¿ç¯„å›²**: `services/aggregator/handler.py`, `services/order-executor/handler.py`

### ã€Phase 3: é‹ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã€‘

#### 19. VOL_CLAMP_MIN å¼•ãä¸Šã’ï¼ˆæœ€ä½BUYé–¾å€¤ã®åº•ä¸Šã’ï¼‰ âœ… å®Ÿè£…æ¸ˆ
- **å•é¡Œ**: Phase 2 åˆæ—¥ã®3ãƒˆãƒ¬ãƒ¼ãƒ‰å…¨ã¦ãŒ `BUYé–¾å€¤=0.15`ï¼ˆã‚¯ãƒ©ãƒ³ãƒ—ä¸‹é™ï¼‰ã§ç™ºç«ã€‚BTC(0.159)/AVAX(0.165)ã¯é–¾å€¤ã‚’ã‚ãšã‹0.009/0.015è¶…ãˆãŸã ã‘ã®é™ç•Œçš„ã‚·ã‚°ãƒŠãƒ«
- **æ ¹æœ¬åŸå› **: `VOL_CLAMP_MIN=0.5` â†’ `BASE_BUY_THRESHOLD(0.30) Ã— 0.5 = 0.15` ãŒä½ã™ãã‚‹ã€‚Techå˜ç‹¬ã®å¼·ã„åç™ºãŒä»–2ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(AI/Sent)ã®åå¯¾æ„è¦‹ã‚’ç„¡è¦–ã—ã¦BUYç™ºå‹•
- **ä¿®æ­£**: `VOL_CLAMP_MIN` ã‚’ 0.5 â†’ **0.67** ã«å¼•ãä¸Šã’ï¼ˆæœ€ä½BUYé–¾å€¤ 0.15â†’**0.20**ã€æœ€ä½SELLé–¾å€¤ -0.10â†’**-0.134**ï¼‰
- **åŠ¹æœ**: BTC/AVAXã®é™ç•Œçš„ãƒˆãƒ¬ãƒ¼ãƒ‰(è¨ˆÂ¥313æå¤±)ã‚’é˜»æ­¢ã€‚XRP(0.222>0.20)ã¯é–¾å€¤è¶…ãˆã§æ­£å½“ãªã‚·ã‚°ãƒŠãƒ«ã¨ã—ã¦å¼•ãç¶šãç™ºå‹•å¯èƒ½
- **å½±éŸ¿ç¯„å›²**: `services/aggregator/handler.py`

#### 20. Market Context ç¬¬4ã®æŸ± âœ… å®Ÿè£…æ¸ˆ
- **å•é¡Œ**: 3æˆåˆ†ä½“åˆ¶ã§ã¯ãƒã‚¯ãƒ­å¸‚å ´ç’°å¢ƒï¼ˆæ‹æ€/å¼·æ¬²ã€ãƒ¬ãƒãƒ¬ãƒƒã‚¸åã‚Šã€BTCæ”¯é…åŠ›ï¼‰ã‚’è€ƒæ…®ã§ããªã„
- **æ–°è¦Lambda**: `market-context` (30åˆ†é–“éš” EventBridge)
  - Fear & Greed Index (Alternative.me) â€” å¸‚å ´ã®ææ€–/å¼·æ¬²åº¦
  - Funding Rate (Binance Futures) â€” ãƒ¬ãƒãƒ¬ãƒƒã‚¸ãƒã‚¸ã‚·ãƒ§ãƒ³ã®åã‚Š
  - BTC Dominance (CoinGecko) â€” è³‡é‡‘ãƒ•ãƒ­ãƒ¼æ–¹å‘
- **Aggregatoræ›´æ–°**: ã‚¦ã‚§ã‚¤ãƒˆã‚’ Tech=0.45, Chronos=0.25, Sent=0.15, MktCtx=0.15 ã«å¤‰æ›´
- **BTC Dominanceè£œæ­£**: ã‚¢ãƒ«ãƒˆã‚³ã‚¤ãƒ³ã«BTC Dom >60%ã§-0.05ã€<40%ã§+0.05
- **ãƒ‡ãƒ¼ã‚¿é®®åº¦ãƒã‚§ãƒƒã‚¯**: 2æ™‚é–“ä»¥ä¸Šå¤ã„å ´åˆã¯ä¸­ç«‹(0.0)æ‰±ã„
- **å½±éŸ¿ç¯„å›²**: `services/market-context/handler.py`(æ–°è¦), `services/aggregator/handler.py`, Terraformå…¨ä½“

#### 20a. 4æˆåˆ†åŒ–ã«ä¼´ã†é–¾å€¤èª¿æ•´ âœ… å®Ÿè£…æ¸ˆ
- **å•é¡Œ**: 4æˆåˆ†ã«åˆ†æ•£ã—ãŸã“ã¨ã§ã‚¹ã‚³ã‚¢ãŒç´„15%åœ§ç¸® + Market Context ã®ä¸Šæ–¹ãƒã‚¤ã‚¢ã‚¹(+0.02)
- **ä¿®æ­£**: BUYé–¾å€¤ 0.30â†’0.28ã€SELLé–¾å€¤ -0.20â†’-0.15
- **æ¤œè¨¼**: 1,578ä»¶ã®ã‚·ã‚°ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ã§æ—§3æˆåˆ†ã¨åŒç­‰ã®ã‚·ã‚°ãƒŠãƒ«é »åº¦ã‚’ç¶­æŒã™ã‚‹é–¾å€¤ã‚’ç®—å‡º
- **å½±éŸ¿ç¯„å›²**: `services/aggregator/handler.py`

#### 17a. NLPã€Œbuy the dipã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿®æ­£ âœ… å®Ÿè£…æ¸ˆ
- **å•é¡Œ**: ã€Œbuy the dipã€ã€Œwhales accumulateã€ç­‰ã®é€†å¼µã‚Šãƒ•ãƒ¬ãƒ¼ã‚ºã§ã€ã€Œbuyã€ãŒBullishã€ã€Œdipã€ãŒBearishã¨å€‹åˆ¥æ¤œå‡ºã•ã‚Œç›¸æ®ºã—ã¦ã„ãŸ
- **ä¿®æ­£**: ãƒã‚¤ã‚°ãƒ©ãƒ /ãƒ•ãƒ¬ãƒ¼ã‚ºãƒãƒƒãƒãƒ³ã‚°ã‚’å€‹åˆ¥ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚ˆã‚Šå…ˆã«å‡¦ç†ã—ã€ä½¿ç”¨æ¸ˆã¿å˜èªã‚’ã‚¹ã‚­ãƒƒãƒ—
- **å½±éŸ¿ç¯„å›²**: `services/news-collector/handler.py`

### ã€Phase 4: Self-Improving Pipelineã€‘

#### 21. Daily Reporter Lambda âœ… å®Ÿè£…æ¸ˆ
- **ç›®çš„**: æ—¥æ¬¡ãƒˆãƒ¬ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•é›†è¨ˆã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- **å®Ÿè£…**: EventBridge (23:00 JST) â†’ daily-reporter Lambda
  - å…¨é€šè²¨ã®24h/7d/30då–å¼•å±¥æ­´ã‚’é›†è¨ˆ
  - ã‚·ã‚°ãƒŠãƒ«çµ±è¨ˆï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥near_zeroç‡å«ã‚€ï¼‰
  - S3ã«JSONä¿å­˜ (90æ—¥ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«) + Slacké€šçŸ¥
- **å½±éŸ¿ç¯„å›²**: `services/daily-reporter/handler.py`(æ–°è¦), Terraform (dynamodb, lambda, eventbridge, iam, s3)

#### 22. Self-Improving Pipeline (Auto-Improve) âœ… å®Ÿè£…æ¸ˆ
- **ç›®çš„**: AIãŒæ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’è‡ªå‹•æ”¹å–„
- **å®Ÿè£…**: daily-reporter â†’ `repository_dispatch` â†’ `auto-improve.yml` GitHub Actions
  - Claude Sonnet ãŒãƒ¬ãƒãƒ¼ãƒˆ + ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’åˆ†æ
  - NO_ACTION / PARAM_TUNE / CODE_CHANGE ã‚’åˆ¤å®š
  - PARAM_TUNE/CODE_CHANGE: search/replace ã§ã‚³ãƒ¼ãƒ‰å¤‰æ›´ â†’ æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ â†’ ãƒ‡ãƒ—ãƒ­ã‚¤ â†’ docsæ›´æ–° â†’ git push
  - DynamoDB `improvements` ãƒ†ãƒ¼ãƒ–ãƒ«ã«æ”¹å–„è¨˜éŒ² (TTL: 180æ—¥)
- **å®‰å…¨ãƒ«ãƒ¼ãƒ«**: ã‚¦ã‚§ã‚¤ãƒˆÂ±0.05/å›ã€é–¾å€¤Â±0.03/å›ã€2é€±é–“ä»¥å†…ã®å¤‰æ›´ã¯åŠ¹æœæ¸¬å®šã®ãŸã‚æŠ‘æ­¢
- **å½±éŸ¿ç¯„å›²**: `.github/workflows/auto-improve.yml`(æ–°è¦), Terraform

#### 23. Trades ãƒ†ãƒ¼ãƒ–ãƒ« TTL è¿½åŠ  âœ… å®Ÿè£…æ¸ˆ
- **ç›®çš„**: å–å¼•å±¥æ­´ã®è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- **ä¿®æ­£**: trades ãƒ†ãƒ¼ãƒ–ãƒ«ã« TTL (90æ—¥) ã‚’è¿½åŠ ã€‚order-executor ã® save_trade ã« `ttl` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
- **å½±éŸ¿ç¯„å›²**: `services/order-executor/handler.py`, `terraform/dynamodb.tf`

### ã€Phase 4.5: Data Quality & Noise Protectionã€‘

#### 24. ãƒ‡ãƒ¼ã‚¿å“è³ªã‚²ãƒ¼ãƒˆ (Daily Reporter) âœ… å®Ÿè£…æ¸ˆ
- **ç›®çš„**: è‡ªå‹•æ”¹å–„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒä½å“è³ªãƒ‡ãƒ¼ã‚¿ã§èª¤ã£ãŸåˆ¤æ–­ã‚’ã™ã‚‹ã®ã‚’é˜²æ­¢
- **å®Ÿè£…**: `build_data_quality()` é–¢æ•°ã‚’è¿½åŠ 
  - Wilsonä¿¡é ¼åŒºé–“ (95%) ã§å‹ç‡ã®ä¸‹é™/ä¸Šé™ã‚’ç®—å‡º
  - æœ€ä½å–å¼•æ•°ãƒã‚§ãƒƒã‚¯ (3ä»¶æœªæº€ã¯æ”¹å–„ãƒˆãƒªã‚¬ãƒ¼ç„¡åŠ¹)
  - ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ãƒã‚§ãƒƒã‚¯ (ç›´è¿‘2é€±é–“ã®æ”¹å–„å±¥æ­´)
  - `data_quality.allow_improvement` ãŒ `false` ã®å ´åˆã€`trigger_auto_improve()` ã‚’ã‚¹ã‚­ãƒƒãƒ—
- **å½±éŸ¿ç¯„å›²**: `services/daily-reporter/handler.py`

#### 25. Auto-Improve Pre-Check ã‚²ãƒ¼ãƒˆ âœ… å®Ÿè£…æ¸ˆ
- **ç›®çš„**: GitHub Actionså´ã§ã‚‚ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸã‚²ãƒ¼ãƒˆã§ä¸é©åˆ‡ãªæ”¹å–„ã‚’é˜²æ­¢
- **å®Ÿè£…**: `auto-improve.yml` ã« pre-check ã‚¹ãƒ†ãƒƒãƒ—è¿½åŠ 
  - `total_trades < 3` â†’ å³åº§ã«NO_ACTION
  - `confidence_score` è¦ä»¶: PARAM_TUNE â‰¥ 0.5, CODE_CHANGE â‰¥ 0.6
- **å½±éŸ¿ç¯„å›²**: `.github/workflows/auto-improve.yml`

#### 26. Fear & Greedé€£å‹• BUYé–¾å€¤æŠ‘åˆ¶ âœ… å®Ÿè£…æ¸ˆ
- **å•é¡Œ**: Extreme Fear (F&Gâ‰¤20) æ™‚ã«Chronos AIãŒç•°å¸¸ã«é«˜ã„ã‚¹ã‚³ã‚¢ (AI=+1.000) ã‚’å‡ºã—ã€æå¤±ç™ºç”Ÿ
  - å®Ÿä¾‹: 02/10 ETH (-Â¥1,661, -1.89%), XRP (-Â¥1,501, -2.32%) â€” F&G=14ã®å¸‚å ´ã§
- **ä¿®æ­£**: `calculate_dynamic_thresholds()` ã«F&Gè£œæ­£ãƒ­ã‚¸ãƒƒã‚¯è¿½åŠ 
  - F&G â‰¤ 20 (Extreme Fear): BUYé–¾å€¤ Ã—1.35 (ã‚ˆã‚Šæ…é‡ã«)
  - F&G â‰¥ 80 (Extreme Greed): BUYé–¾å€¤ Ã—1.20 (ãƒãƒ–ãƒ«è­¦æˆ’)
  - SELLé–¾å€¤ã¯å¤‰æ›´ãªã— (ã‚¹ãƒˆãƒƒãƒ—ãƒ­ã‚¹ã¯å¸¸ã«å®Ÿè¡Œ)
- **æ–°å®šæ•°**: `FNG_FEAR_THRESHOLD=20`, `FNG_GREED_THRESHOLD=80`, `FNG_BUY_MULTIPLIER_FEAR=1.35`, `FNG_BUY_MULTIPLIER_GREED=1.20`
- **Slacké€šçŸ¥**: F&Gè£œæ­£é©ç”¨æ™‚ã¯ `âš ï¸ F&G=14: BUY_TH Ã—1.35` ç­‰ã®è­¦å‘Šã‚’è¡¨ç¤º
- **å½±éŸ¿ç¯„å›²**: `services/aggregator/handler.py`

#### 27. ã‚´ãƒŸãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— âœ… å®Œäº†
- **å•é¡Œ**: 02/09ã®Coincheck API fillãƒã‚° (order_idãƒ•ã‚£ãƒ«ã‚¿æœªä½¿ç”¨) ã«ã‚ˆã‚Šã€ç•°å¸¸ãªentry_priceã®ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒç™ºç”Ÿ
  - trades ãƒ†ãƒ¼ãƒ–ãƒ«: 101ä»¶ã®ã‚´ãƒŸãƒ¬ã‚³ãƒ¼ãƒ‰ (score=0, threshold=0, BTC rate=520M JPY vs å®Ÿå‹¢14M)
  - positions ãƒ†ãƒ¼ãƒ–ãƒ«: 39ä»¶ã®ã‚´ãƒŸãƒã‚¸ã‚·ãƒ§ãƒ³ (å…¨closed, ç•°å¸¸ãªentry_price)
- **å¯¾å¿œ**: æ‰‹å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å…¨ã‚´ãƒŸãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤
  - trades: 101ä»¶å‰Šé™¤ã€12ä»¶ã®æ­£å¸¸ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒæ®‹å­˜
  - positions: 39ä»¶å‰Šé™¤ã€19ä»¶ã®æ­£å¸¸ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒæ®‹å­˜ (1 open: sol_jpy)
- **å†ç™ºé˜²æ­¢**: fillãƒã‚°ã¯æ—¢ã«ä¿®æ­£æ¸ˆ (`order_id` ãƒ•ã‚£ãƒ«ã‚¿ + 50%ä¹–é›¢ãƒã‚§ãƒƒã‚¯)

### ã€Phase 5: SELLåˆ¤æ–­æ”¹å–„ â€” åˆ©ç¢ºã‚¿ã‚¤ãƒŸãƒ³ã‚°æœ€é©åŒ–ã€‘

#### 28. é€£ç¶šãƒˆãƒ¬ãƒ¼ãƒªãƒ³ã‚°ã‚¹ãƒˆãƒƒãƒ— âœ… å®Ÿè£…æ¸ˆ
- **å•é¡Œ**: æ—§3æ®µéšå¼ãƒˆãƒ¬ãƒ¼ãƒªãƒ³ã‚°ã‚¹ãƒˆãƒƒãƒ— (+3%/+5%/+8%) ã¯éš™é–“ãŒå¤§ããã€2-3%ã®åˆ©ç›Šã‚’è¿”ã—ã¦ã—ã¾ã†
  - +2.9%â†’-5%ã®ã‚±ãƒ¼ã‚¹ã§ãƒˆãƒ¬ãƒ¼ãƒªãƒ³ã‚°éé©ç”¨ï¼ˆå…¨é¡æå¤±ï¼‰
  - é›¢æ•£ã‚¹ãƒ†ãƒƒãƒ—é–“ã®åˆ©ç›ŠãŒä¿è­·ã•ã‚Œãªã„
- **ä¿®æ­£**: ãƒ”ãƒ¼ã‚¯ä¾¡æ ¼è¿½è·¡ + é€£ç¶šãƒˆãƒ¬ãƒ¼ãƒªãƒ³ã‚°ã¸å…¨é¢æ”¹ä¿®
  - `highest_price` ã‚’DynamoDBã«æ°¸ç¶šåŒ–ã—ã€ãƒã‚¸ã‚·ãƒ§ãƒ³ã®æœ€é«˜åˆ°é”ä¾¡æ ¼ã‚’è¿½è·¡
  - ãƒ”ãƒ¼ã‚¯ã‹ã‚‰ã®ä¸‹è½ç‡ã§SLã‚’å‹•çš„è¨­å®šï¼ˆåˆ©ç›Šæ°´æº–ã«å¿œã˜ã¦ãƒˆãƒ¬ãƒ¼ãƒ«å¹…ã‚’å¤‰å‹•ï¼‰
  - 3-5%å¸¯: ãƒ”ãƒ¼ã‚¯ã‹ã‚‰2.0%ã§SL, 5-8%å¸¯: 1.5%, 8-12%å¸¯: 1.2%, 12%+: 1.0%
  - 3%ä»¥ä¸Šåˆ°é”å¾Œã¯å¿…ãšå»ºå€¤ä»¥ä¸Šã‚’ä¿è¨¼
- **Slacké€šçŸ¥**: ãƒ”ãƒ¼ã‚¯æ›´æ–° + SLå¼•ãä¸Šã’æ™‚ã«ãƒˆãƒ¬ãƒ¼ãƒ«å¹…ã‚’è¡¨ç¤º
- **å½±éŸ¿ç¯„å›²**: `services/position-monitor/handler.py`

#### 29. ãƒ¢ãƒ¡ãƒ³ã‚¿ãƒ æ¸›é€Ÿæ¤œçŸ¥ (MACD histogram slope) âœ… å®Ÿè£…æ¸ˆ
- **å•é¡Œ**: å…¨4æˆåˆ†ã®é…è¡ŒæŒ‡æ¨™ãŒSELLé–¾å€¤ã«åˆ°é”ã™ã‚‹ã®ã‚’å¾…ã¤ãŸã‚ã€åè»¢ã®åˆå‹•ã‚’é€ƒã™
  - MACDãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ãŒæ­£â†’ç¸®å°ä¸­ï¼ˆä¸Šæ˜‡ãƒ¢ãƒ¡ãƒ³ã‚¿ãƒ æ¸›é€Ÿï¼‰ã‚’æ¤œçŸ¥ã™ã‚‹ä»•çµ„ã¿ãŒãªã‹ã£ãŸ
- **ä¿®æ­£**:
  - `technical/handler.py`: `calculate_macd_histogram_slope()` é–¢æ•°ã‚’è¿½åŠ 
    - ç›´è¿‘3æœ¬ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ å¤‰åŒ–ã®å¹³å‡å‚¾ãã‚’ç®—å‡º â†’ -1.0ã€œ+1.0ã«ã‚¹ã‚±ãƒ¼ãƒ«
    - `macd_histogram_slope` ã‚’indicatorsã«è¿½åŠ 
  - `aggregator/handler.py`: `decide_action()` ã§ãƒ¢ãƒ¡ãƒ³ã‚¿ãƒ æ¸›é€ŸSELLåˆ¤å®š
    - ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ æ­£ + å‚¾ã < -0.3 â†’ SELLé–¾å€¤ã‚’50%ç·©å’Œï¼ˆä¾‹: -0.10â†’-0.05ï¼‰
    - hold periodçµŒéå¾Œã®ã¿é©ç”¨ï¼ˆå³å£²ã‚Šé˜²æ­¢ï¼‰
- **å½±éŸ¿ç¯„å›²**: `services/technical/handler.py`, `services/aggregator/handler.py`

### ã€Phase 6: AI/Chronos ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ â€” SageMaker BaseåŒ–ã€‘

#### 30. Chronos SageMaker Serverless EndpointåŒ– âœ… å®Ÿè£…æ¸ˆ
- **å•é¡Œ**: Lambdaä¸Šã®ONNX Chronos-T5-Tiny (8M params) ã¯äºˆæ¸¬ç²¾åº¦ãŒä¸ååˆ†
  - å…¥åŠ›60æœ¬(5h)â†’ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜ãŒå¼±ã„
  - 20ã‚µãƒ³ãƒ—ãƒ«â†’ä¸­å¤®å€¤ãŒä¸å®‰å®š
  - Â±1%ã‚¹ã‚±ãƒ¼ãƒ«â†’å¸¸ã«ã‚¹ã‚³ã‚¢é£½å’Œ
  - ç¢ºä¿¡åº¦ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãªã—
- **ä¿®æ­£**: SageMaker Serverless Endpoint + Chronos-T5-Base (200M params) ã«å…¨é¢ç§»è¡Œ
  - **ãƒ¢ãƒ‡ãƒ«**: Tiny(8M) â†’ Base(200M) â€” 25å€ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ•°
  - **å…¥åŠ›**: 60æœ¬(5h) â†’ 336æœ¬(28h) â€” æ—¥æ¬¡ã‚µã‚¤ã‚¯ãƒ«1å‘¨+Î±ã‚’æ•æ‰
  - **ã‚µãƒ³ãƒ—ãƒ«**: 20 â†’ 50 â€” ä¸­å¤®å€¤ã®å®‰å®šæ€§å‘ä¸Š
  - **ã‚¹ã‚³ã‚¢ã‚¹ã‚±ãƒ¼ãƒ«**: Â±1% â†’ Â±3% â€” é£½å’Œè§£æ¶ˆ
  - **å¤–ã‚Œå€¤é™¤å»**: Â±20%è¶…ã®äºˆæ¸¬ã‚’ç¾åœ¨ä¾¡æ ¼ã§ç½®æ›
  - **ãƒˆãƒ¬ãƒ³ãƒ‰åŠ é€Ÿãƒœãƒ¼ãƒŠã‚¹**: å¾ŒåŠäºˆæ¸¬ > å‰åŠäºˆæ¸¬ â†’ æœ€å¤§Â±0.15åŠ ç®—
  - **stdæ¸›è¡°**: CV > 5%ã§ã‚¹ã‚³ã‚¢50%æ¸›è¡°
  - **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**: SageMakeréšœå®³æ™‚ã¯ãƒ¢ãƒ¡ãƒ³ã‚¿ãƒ ãƒ™ãƒ¼ã‚¹ã‚¹ã‚³ã‚¢ (confidence=0.1)
- **SageMakeræ§‹æˆ**:
  - ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ: `eth-trading-chronos-base` (Serverless, 6144MB, max_concurrency=2)
  - DLC Image: `huggingface-pytorch-inference:2.1.0-transformers4.37.0-cpu-py310`
  - ãƒ¢ãƒ‡ãƒ«æ ¼ç´: `s3://eth-trading-sagemaker-models-652679684315/chronos-base/model.tar.gz` (717.7MB)
  - ä¾å­˜: `chronos-forecasting==1.3.0` (torch 2.1.0äº’æ›ã«ãƒ”ãƒ³ç•™ã‚å¿…é ˆ)
- **Lambdaå¤‰æ›´**: memory 1536â†’256MB, ONNX Runtimeãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸è¦
- **å½±éŸ¿ç¯„å›²**: `services/chronos-caller/handler.py` (å…¨é¢æ›¸æ›), `terraform/lambda.tf`, `terraform/iam.tf`

#### 31. ç¢ºä¿¡åº¦ãƒ™ãƒ¼ã‚¹å‹•çš„Chronosã‚¦ã‚§ã‚¤ãƒˆ âœ… å®Ÿè£…æ¸ˆ
- **å•é¡Œ**: Chronosã‚¦ã‚§ã‚¤ãƒˆãŒå›ºå®š0.25ã ãŒã€äºˆæ¸¬ç¢ºä¿¡åº¦ãŒä½ã„æ™‚ã‚‚é«˜ã„æ™‚ã‚‚åŒã˜å½±éŸ¿åŠ›
- **ä¿®æ­£**: SageMakeræ¨è«–çµæœã® `confidence` (0.0-1.0) ã«åŸºã¥ãã‚¦ã‚§ã‚¤ãƒˆã‚’å‹•çš„å¤‰å‹•
  - `weight_shift = (confidence - 0.5) Ã— 0.30` â†’ ã‚¯ãƒ©ãƒ³ãƒ— [-0.15, +0.10]
  - é«˜ç¢ºä¿¡åº¦ (1.0): Chronos 0.35, Tech 0.35
  - ä¸­ç¢ºä¿¡åº¦ (0.5): Chronos 0.25, Tech 0.45 (ãƒ™ãƒ¼ã‚¹)
  - ä½ç¢ºä¿¡åº¦ (0.0): Chronos 0.10, Tech 0.60
  - Sentiment/MktCtx ã¯å›ºå®š (0.15/0.15)
- **Slacké€šçŸ¥**: ç¢ºä¿¡åº¦ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ (ğŸŸ¢â‰¥0.7, ğŸŸ¡â‰¥0.4, ğŸ”´<0.4) + é€šè²¨åˆ¥å‹•çš„ã‚¦ã‚§ã‚¤ãƒˆè¡¨ç¤º
- **å½±éŸ¿ç¯„å›²**: `services/aggregator/handler.py`

### Phase 2 å®Ÿè£…ãƒ­ã‚°

| æ—¥ä»˜ | é …ç›® | ã‚³ãƒŸãƒƒãƒˆ | å‚™è€ƒ |
|------|------|---------|------|
| 2026-02-09 | #12 MACD ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | `8211ac1` | ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ æŒ¯å¹…ãƒ™ãƒ¼ã‚¹ |
| 2026-02-09 | #13 RSI Wilder's | `8211ac1` | æŒ‡æ•°å¹³æ»‘åŒ– |
| 2026-02-09 | #15 Chronos ã‚¦ã‚§ã‚¤ãƒˆ | `8211ac1` | 810ä¿¡å·åˆ†æâ†’Tech=0.55,Chronos=0.30 |
| 2026-02-09 | #18 ãƒˆãƒ¬ãƒ¼ãƒ‰è¨˜éŒ² | `8211ac1` | analysis_context ä¿å­˜ |
| 2026-02-09 | #11 OHLC ä¿å­˜ | `8211ac1` | Binance klinesâ†’DynamoDB |
| 2026-02-09 | #14 Volume æ´»ç”¨ | `8211ac1` | volume_multiplier 1.0-1.3 |
| 2026-02-09 | #16 KV ã‚­ãƒ£ãƒƒã‚·ãƒ¥ | `8211ac1` | decoder_with_past é«˜é€Ÿãƒ‡ã‚³ãƒ¼ãƒ‰ |
| 2026-02-09 | #17 NLP ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆ | `8211ac1` | 3æ®µéšå¼·åº¦+å¦å®šèª+ãƒã‚¤ã‚°ãƒ©ãƒ  |
| 2026-02-09 | Typical Price | `90684dc` | Chronoså…¥åŠ›ã‚’(H+L+C)/3ã«å¤‰æ›´ |
| 2026-02-09 | #19 VOL_CLAMP_MIN | `5ffcbea` | 0.5â†’0.67, æœ€ä½BUYé–¾å€¤ 0.15â†’0.20 |
| 2026-02-10 | #17a NLP buy the dip | `aa138cf` | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆèªè­˜ã€ä½¿ç”¨æ¸ˆã¿å˜èªã‚¹ã‚­ãƒƒãƒ— |
| 2026-02-10 | #20 Market Context | `72cf12f` | ç¬¬4ã®æŸ±: F&G + Funding + BTC Dom, Tech=0.45/Chronos=0.25/Sent=0.15/Mkt=0.15 |
| 2026-02-10 | #20a é–¾å€¤èª¿æ•´ | `8b5f2a4` | BUY 0.30â†’0.28, SELL -0.20â†’-0.15, 4æˆåˆ†åœ§ç¸®è£œæ­£ |
| 2026-02-10 | docs Phase 3 | `1647fe9` | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–° |
| 2026-02-10 | #21-23 Phase 4 | `5f0ba34` | daily-reporter + auto-improve + trades TTL |
| 2026-02-10 | #24-25 ãƒ‡ãƒ¼ã‚¿å“è³ªã‚²ãƒ¼ãƒˆ | `2b7022d` | daily-reporterå“è³ªãƒã‚§ãƒƒã‚¯ + auto-improve pre-check |
| 2026-02-10 | #26 F&G BUYæŠ‘åˆ¶ | `bb5cfa2` | Extreme Fearæ™‚BUYé–¾å€¤Ã—1.35 |
| 2026-02-10 | #27 ã‚´ãƒŸãƒ‡ãƒ¼ã‚¿å‰Šé™¤ | - | trades 101ä»¶ + positions 39ä»¶ã‚’æ‰‹å‹•å‰Šé™¤ |
| 2026-02-10 | #28 é€£ç¶šãƒˆãƒ¬ãƒ¼ãƒªãƒ³ã‚° | `ce37e58` | ãƒ”ãƒ¼ã‚¯è¿½è·¡ + é©å¿œå‹ãƒˆãƒ¬ãƒ¼ãƒ«å¹… |
| 2026-02-10 | #29 ãƒ¢ãƒ¡ãƒ³ã‚¿ãƒ æ¸›é€Ÿ | `ce37e58` | MACD histogram slope + SELLé–¾å€¤ç·©å’Œ |
| 2026-02-11 | #30 Chronos SageMakeråŒ– | `372722f` | Tiny(8M)â†’Base(200M), SageMaker Serverless |
| 2026-02-11 | #31 ç¢ºä¿¡åº¦ãƒ™ãƒ¼ã‚¹å‹•çš„ã‚¦ã‚§ã‚¤ãƒˆ | `372722f` | Chronos confidenceâ†’ã‚¦ã‚§ã‚¤ãƒˆÂ±0.15å‹•çš„å¤‰å‹• |
